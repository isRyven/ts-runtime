/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */

function createDictionaryObject(){var t=Object.create(null);return t.__=void 0,delete t.__,t}function shimMap(){var t=(r.prototype.next=function(){for(;this.currentEntry;){var t=!!this.currentEntry.skipNext;if(this.currentEntry=this.currentEntry.nextEntry,!t)break}return this.currentEntry?{value:this.selector(this.currentEntry.key,this.currentEntry.value),done:!1}:{value:void 0,done:!0}},r);function r(t,r){this.currentEntry=t,this.selector=r}return n.prototype.get=function(t){var r=this.data[t];return r&&r.value},n.prototype.set=function(t,r){if(this.has(t))this.data[t].value=r;else{this.size++;var n={key:t,value:r};this.data[t]=n;var e=this.lastEntry;(e.nextEntry=n).previousEntry=e,this.lastEntry=n}return this},n.prototype.has=function(t){return t in this.data},n.prototype.delete=function(t){if(this.has(t)){this.size--;var r=this.data[t];delete this.data[t];var n=r.previousEntry;return n.nextEntry=r.nextEntry,r.nextEntry&&(r.nextEntry.previousEntry=n),this.lastEntry===r&&(this.lastEntry=n),r.previousEntry=void 0,r.nextEntry=n,r.skipNext=!0}return!1},n.prototype.clear=function(){this.data=createDictionaryObject(),this.size=0;for(var t=this.firstEntry,r=t.nextEntry;r;){var n=r.nextEntry;r.previousEntry=void 0,r.nextEntry=t,r.skipNext=!0,r=n}t.nextEntry=void 0,this.lastEntry=t},n.prototype.keys=function(){return new t(this.firstEntry,function(t){return t})},n.prototype.values=function(){return new t(this.firstEntry,function(t,r){return r})},n.prototype.entries=function(){return new t(this.firstEntry,function(t,r){return[t,r]})},n.prototype.forEach=function(t){for(var r=this.entries();;){var n=r.next();if(n.done)break;var e=n.value,i=e[0];t(e[1],i)}},n;function n(){this.data=createDictionaryObject(),this.size=0,this.firstEntry={},this.lastEntry=this.firstEntry}}module.exports=shimMap();